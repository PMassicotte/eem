<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fluorescence Intensity Calibration Using the Raman Scatter Peak of Water — eem_raman_normalisation • eemR</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Fluorescence Intensity Calibration Using the Raman Scatter Peak of Water — eem_raman_normalisation" />

<meta property="og:description" content="Normalize fluorescence intensities to the standard scale of
  Raman Units (R.U)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eemR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/custom-import-function.html">Creating custom import functions</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction to eemR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PMassicotte/eemR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fluorescence Intensity Calibration Using the Raman Scatter Peak of Water</h1>
    <small class="dont-index">Source: <a href='https://github.com/PMassicotte/eemR/blob/master/R/eem_correction.R'><code>R/eem_correction.R</code></a></small>
    <div class="hidden name"><code>eem_raman_normalisation.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Normalize fluorescence intensities to the standard scale of
  Raman Units (R.U).</p>
    
    </div>

    <pre class="usage"><span class='fu'>eem_raman_normalisation</span>(<span class='no'>eem</span>, <span class='kw'>blank</span> <span class='kw'>=</span> <span class='fl'>NA</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>eem</th>
      <td><p>An object of class <code>eemlist</code>.</p></td>
    </tr>
    <tr>
      <th>blank</th>
      <td><p>An object of class <code>eemlist</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>eemlist</code>.</p>
<p>An object of class <code>eem</code> containing:</p><ul>
<li><p>sample The
  file name of the eem.</p></li>
<li><p>x A matrix with fluorescence values.</p></li>
<li><p>em
  Emission vector of wavelengths.</p></li>
<li><p>ex Excitation vector of wavelengths.</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function will first try to use the provided <code>blank</code>. If the
  blank is omitted, the function will then try to extract the blank from the
  <code>eemlist</code> object. This is done by looking for sample names containing
  one of these complete or partial strings (ignoring case):</p>
<p></p><ol>
<li><p>nano</p></li>
<li><p>miliq</p></li>
<li><p>milliq</p></li>
<li><p>mq</p></li>
<li><p>blank</p></li>
</ol>
    <p>Note that if <code>blank</code> is omitted, the function will group the
  <code>eemlist</code> based on file location and will assumes that there is a
  blank sample in each folder. In that context, the blank will be used on
  each sample in the same folder. If more than one blank is found they will
  be averaged (a message will be printed if this appends).</p>
<p>Consider the following example where there are two folders that could
  represent scans performed on two different days `scans_day_1` and
  `scans_day_2`.</p>
<p></p><table class='table'>
<tr><td>scans_day_1</td><td></td></tr>
<tr><td></td><td>nano.csv</td></tr>
<tr><td></td><td>sample1.csv</td></tr>
<tr><td></td><td></td></tr>
<tr><td>sample2.csv</td><td></td></tr>
<tr><td>sample3.csv</td><td>scans_day_2</td></tr>
<tr><td></td><td></td></tr>
<tr><td>blank.csv</td><td></td></tr>
<tr><td></td><td>s1.csv</td></tr>
<tr><td></td><td>s2.csv</td></tr>
<tr><td></td><td>s3.csv</td></tr>
<tr><td></td><td>scans_day_1</td></tr>
</table>
    <p>In each folder there are three samples and one blank files. In that
  context, `eem_remove_blank()` will use the blank `nano.csv` from
  `sample1.csv`, `sample2.csv` and `sample3.csv`. The same strategy will be
  used for files in folder `scans_day_2` but with blank named `blank.csv`.</p>
<p>Note that the blanks eem are not returned by the function.</p>
<p>The normalization procedure consists in dividing all fluorescence
  intensities by the area (integral) of the Raman peak. The peak is located
  at excitation of 350 nm. (ex = 370) between 371 nm. and 428 nm in emission
  (371 &lt;= em &lt;= 428). Note that the data is interpolated to make sure that
  fluorescence at em 350 exist.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Lawaetz, A. J., &amp; Stedmon, C. A. (2009). Fluorescence Intensity Calibration
Using the Raman Scatter Peak of Water. Applied Spectroscopy, 63(8), 936-940.</p>
<p><a href='http://doi.org/10.1366/000370209788964548'>http://doi.org/10.1366/000370209788964548</a></p>
<p>Murphy, K. R., Stedmon, C. a., Graeber, D., &amp; Bro, R. (2013). Fluorescence
spectroscopy and multi-way techniques. PARAFAC. Analytical Methods, 5(23),
6557.</p>
<p><a href='http://xlink.rsc.org/?DOI=c3ay41160e'>http://xlink.rsc.org/?DOI=c3ay41160e</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Open the fluorescence eem</span>
<span class='no'>file</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata/cary/scans_day_1"</span>, <span class='st'>"sample1.csv"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"eemR"</span>)
<span class='no'>eem</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='eem_read.html'>eem_read</a></span>(<span class='no'>file</span>, <span class='kw'>import_function</span> <span class='kw'>=</span> <span class='st'>"cary"</span>)

<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>eem</span>)</div><div class='img'><img src='eem_raman_normalisation-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Open the blank eem</span>
<span class='no'>file</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata/cary/scans_day_1"</span>, <span class='st'>"nano.csv"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"eemR"</span>)
<span class='no'>blank</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='eem_read.html'>eem_read</a></span>(<span class='no'>file</span>, <span class='kw'>import_function</span> <span class='kw'>=</span> <span class='st'>"cary"</span>)

<span class='co'># Do the normalisation</span>
<span class='no'>eem</span> <span class='kw'>&lt;-</span> <span class='fu'>eem_raman_normalisation</span>(<span class='no'>eem</span>, <span class='no'>blank</span>)</div><div class='output co'>#&gt; Raman area: 9.540904 </div><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>eem</span>)</div><div class='img'><img src='eem_raman_normalisation-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Philippe Massicotte.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

